<!DOCTYPE html>
<html lang="en">
    <%- include("./include/head.html") %>

    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
        #container {
            height: 600vh; /* 모든 섹션을 포함할 수 있는 높이 */
        }
        .section {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
        }
        .section1 {
            background: #ff6666;
        }
        .section2 {
            background: #66ff66;
        }
        .section3 {
            background: #6666ff;
        }
        .section4 {
            background: #ffff66;
        }
        .section5 {
            background: #66ffff;
        }
        .section6 {
            background: #ff66ff;
        }
    </style>
    <body>
        <div id="container">
            <div class="section section1">1번 섹션</div>
            <div class="section section2">2번 섹션</div>
            <div class="section section3">3번 섹션</div>
            <div class="section section4">4번 섹션</div>
            <div class="section section5">5번 섹션</div>
            <div class="section section6">6번 섹션</div>
        </div>
    </body>

    <script>
        // container.addEventListener('scroll', () => {
        //     const scrollPosition = container.scrollTop;

        //     // 섹션 6을 지나쳤는지 확인
        //     console.log(scrollPosition);
        //     console.log('a', 5 * window.innerHeight);
        //     if (scrollPosition >= 5 * window.innerHeight) {
        //         container.style.scrollSnapType = 'none'; // 스크롤 스냅 비활성화
        //     } else if (scrollPosition <= 6 * window.innerHeight) {
        //         container.style.scrollSnapType = 'y mandatory'; // 스크롤 스냅 활성화
        //     }
        // });

        const sections = document.querySelectorAll('.section');
        let currentSection = 0; // 현재 섹션 인덱스
        let isScrolling = false; // 스크롤 중복 방지 플래그

        // 스크롤 이벤트
        window.addEventListener('wheel', (event) => {
            console.log(window.scrollY);
            if (isScrolling) return; // 스크롤 중이면 리턴

            isScrolling = true; // 스크롤 중으로 설정

            // 방향에 따라 섹션 인덱스 변경
            if (event.deltaY > 0) {
                currentSection = Math.min(currentSection + 1, sections.length - 1); // 아래로 스크롤
            } else {
                currentSection = Math.max(currentSection - 1, 0); // 위로 스크롤
            }

            // 스크롤 이동
            window.scrollTo({
                top: currentSection * window.innerHeight,
                behavior: 'smooth', // 부드러운 스크롤
            });

            // 스크롤 완료 후 플래그를 false로 설정
            setTimeout(() => {
                isScrolling = false; // 스크롤 가능 상태로 복원
            }, 700); // 스크롤 애니메이션 시간
        });
    </script>
</html>
